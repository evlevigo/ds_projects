# Интернет-магазин «В один клик» 

Сделал проект в рамках стажировки в отделе цифровых технологий интернет-магазина , который торгует разнообразными товарами: от товаров для детей до продуктов питания. Отчёт за прошлый период показал, что активность клиентов начала падать. Привлечение новых клиентов стало менее эффективным, так как большая часть целевой аудитории уже знает о магазине. Чтобы сохранить интерес постоянных клиентов, руководство магазина решило использовать персонализированные предложения.

Мне предстояло разработать решение вместе с отделом цифровых технологий, которое поможет персонализировать предложения для постоянных клиентов и стимулировать их активность в покупках.

## Цели и задачи проекта

**Цель проекта** - разработать решение для персонализации предложений постоянным клиентам и увеличения их покупательской активности.

В ходе проекта выполнил следующие **задачи**:

1. Провел обзор данных и получил общее представление о них.
2. Провел предварительную обработку данных, включая обработку пропущенных значений, обработку дубликатов и изменение типов данных.
3. Провел исследовательский анализ данных и статистический анализ.
4. Маркировал уровень финансовой активности постоянных покупателей, разделяя их на две группы: «снижение активности» и «прежний уровень».
5. Собрал данные по клиентам, включая данные о коммуникации сотрудников компании с клиентами, продуктовом поведении, покупательском поведении и поведении на сайте.
6. Построил модель, предсказывающую вероятность снижения покупательской активности клиента в ближайшие три месяца.
7. Включил в исследование дополнительные данные финансового департамента о прибыльности клиентов за последние три месяца.
8. На основе данных модели и данных о прибыльности клиентов выделил сегменты покупателей и разработать для них персонализированные предложения.

Также выполнил исследовательский анализ данных

**market_file.csv**
Как видно из круговых диаграмм, покупательская активность, в основном, остаётся на прежнем уровне.
Тем не менее, процент пользователей, покупательская активность которых снизилась составляет 38,3%.
В основном, пользователи пользуются типом подписки `стандарт`. Большинство пользователей дали согласие на 
предоставление специальных предложений. Наиболее популярными категориями товаров являются товары для детей,
домашний текстиль, косметика и аксессуары. 
Анализ гистограмм размаха показал, что в данных присутствуют выбивающиеся значения (выбросы), но , 
в целом, они лежат в пределах нормы, исключение каких-либо данных не требуется.

Значение всех признаков не имеют нормального распределения

**market_money.csv**

Как видно из круговой диаграммы, распределение пользователей по периодам, за который зафикирована выручка, одинаковое
При анализе числовых данных было обнаружено аномальное значение, заменено на медианное. Распределение по столбцу `выручка` не нормальное.

**market_time.csv**

Круговая диаграмма показывает, что количество пользователей одинаково распределено по месяцам.
Выбросов в данных не имеется, распределение по столбцу `продолжительность_посещения` не нормальное.

**money.csv**

Категориальные данные отсутствуют, анализ числовых данных показал отсутствие аномальных значений, распределение по столбцу `прибыль` нормальное

**Также** были выявлены покупатели с ненулевой покупательской активностью не менее трёх месяцев, то есть таких, которые что-либо покупали в этот период.

4. Нужно промаркировать уровень финансовой активности постоянных покупателей. В компании принято выделять два уровня активности: «снизилась», если клиент стал покупать меньше товаров, и «прежний уровень».

5. Нужно собрать данные по клиентам по следующим группам:
    -   Признаки, которые описывают коммуникацию сотрудников компании с клиентом.
    -   Признаки, которые описывают продуктовое поведение покупателя. Например, какие товары покупает и как часто.
    -   Признаки, которые описывают покупательское поведение клиента. Например, сколько тратил в магазине.
    -   Признаки, которые описывают поведение покупателя на сайте. Например, как много страниц просматривает и сколько времени проводит на сайте.    
    
6. Построил модель, которая предсказывает вероятность снижения покупательской активности клиента.

- Для поиска лучшей модели применил пайплайн (конвейер). Пайплайн или конвейер, — это инструмент, который позволяет автоматизировать действия по подготовке данных, обучению моделей и оценке их качества. Термины «пайплайн» и «конвейер» обычно используются как синонимы. Для выбора лучшей модели применил случайный поиск с помощью `RandomizedSearchCV`

- Во время подготовки данных использовал `ColumnTransformer`. Количественные и категориальные признаки обработал в пайплайне раздельно. Для кодирования категориальных признаков использовал два кодировщика, для масштабирования количественных - два скейлера.

- Обучил четыре модели: `KNeighborsClassifier()`, `DecisionTreeClassifier()`, `LogisticRegression()` и `SVC()`. Для каждой из них подобрал гиперпараметры. Выбрал метрика ROC-AUC - показателя, который оценивает работу модели более обобщённо, независимо от того, какой порог классификации выбран. 

- Выбрал лучшую модель при использовании заданной метрики. Применил стратегию:

    -   использовал один общий пайплайн для всех моделей и инструмент подбора гиперпараметров, который вернул лучшую модель.
    

Метрика лучшей модели на тренировочной выборке: 0.90

Метрика ROC-AUC на тестовой выборке: 0.92

7. Выполнил сегментацию покупателей с использованием результатов моделирования и данных о прибыльности покупателей. Провел графические и аналитическое исследование группы покупателей. Наибольшее внимание следует уделить клиентам, чья покупательская активность прогнозируется к снижению, так как покупательская активность другой группы клиентов останется прежней. Возможно, таким клиентам следует предоставить специальное предложение по  категориям товаров, в которых они заинтересованы или тип улучшенный тип подписки со скидкой

